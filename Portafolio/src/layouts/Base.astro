---
// src/layouts/Base.astro
interface Props {
  title: string;
  description?: string;
}

const { title, description = "Portafolio de Nayara Yap - Desarrolladora Web" } =
  Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <title>{title}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body class="font-['Poppins',sans-serif]">
    <!-- Navbar -->
    <nav
      id="navbar"
      class="fixed w-full top-0 z-50 bg-transparent transition-all duration-400"
    >
      <div class="container mx-auto px-4 py-4">
        <div class="flex justify-between items-center">
          <a
            href="/"
            class="text-xl font-bold text-white hover:scale-105 transition-transform"
          >
            Mi Portafolio
          </a>

          <!-- Mobile Menu Button -->
          <button
            id="mobile-menu-btn"
            class="lg:hidden text-white hover:text-blue-400 transition-colors"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>

          <!-- Desktop Menu -->
          <ul class="hidden lg:flex space-x-8">
            <li>
              <a
                href="/"
                class={`nav-link ${currentPath === "/" ? "active" : ""}`}
                >Inicio</a>
            </li>
            <li>
              <a
                href="/sobremi"
                class={`nav-link ${currentPath === "/sobremi" ? "active" : ""}`}
                >Sobre mí</a>
            </li>
            <li>
              <a
                href="/proyectos"
                class={`nav-link ${currentPath === "/proyectos" ? "active" : ""}`}
                >Proyectos</a>
            </li>
            <li>
              <a
                href="/habilidades"
                class={`nav-link ${currentPath === "/habilidades" ? "active" : ""}`}
                >Habilidades</a>
            </li>
            <li>
              <a
                href="/contacto"
                class={`nav-link ${currentPath === "/contacto" ? "active" : ""}`}
                >Contacto</a>
            </li>
          </ul>
        </div>

        <!-- Mobile Menu -->
        <div
          id="mobile-menu"
          class="hidden lg:hidden mt-4 pb-4 bg-black/95 backdrop-blur-md rounded-lg"
        >
          <ul class="space-y-3 p-4">
            <li>
              <a
                href="/"
                class={`mobile-nav-link ${currentPath === "/" ? "active" : ""}`}
                >Inicio</a>
            </li>
            <li>
              <a
                href="/sobremi"
                class={`mobile-nav-link ${currentPath === "/sobremi" ? "active" : ""}`}
                >Sobre mí</a>
            </li>
            <li>
              <a
                href="/proyectos"
                class={`mobile-nav-link ${currentPath === "/proyectos" ? "active" : ""}`}
                >Proyectos</a>
            </li>
            <li>
              <a
                href="/habilidades"
                class={`mobile-nav-link ${currentPath === "/habilidades" ? "active" : ""}`}
                >Habilidades</a>
            </li>
            <li>
              <a
                href="/contacto"
                class={`mobile-nav-link ${currentPath === "/contacto" ? "active" : ""}`}
                >Contacto</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main>
      <slot />
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white">
      <div class="container mx-auto px-4 py-8">
        <div class="text-center">
          <p class="text-gray-400 mb-4">
            &copy; 2025 Nayara Yap. Todos los derechos reservados.
          </p>
          <div class="flex justify-center space-x-6">
            <a
              href="https://github.com/NayaraYM"
              target="_blank"
              rel="noopener noreferrer"
              class="text-gray-400 hover:text-blue-400 transition-colors"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                ></path>
              </svg>
            </a>
            <a
              href="https://www.facebook.com/belen.yapmoreno?locale=es_LA"
              target="_blank"
              rel="noopener noreferrer"
              class="text-gray-400 hover:text-blue-400 transition-colors"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
                ></path>
              </svg>
            </a>
            <a
              href="https://www.instagram.com/be.len8805/"
              target="_blank"
              rel="noopener noreferrer"
              class="text-gray-400 hover:text-blue-400 transition-colors"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"
                ></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Botón volver arriba -->
    <button
      id="btnVolverArriba"
      class="fixed bottom-5 right-5 hidden z-[1000] bg-gradient-to-r from-[#002f6c] to-[#0a58ca] text-white rounded-full p-4 shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
      </svg>
    </button>

    <style>
      .nav-link {
        @apply text-white hover:text-white font-medium transition-all duration-300 relative;
      }
      .nav-link::after {
        content: "";
        @apply absolute bottom-0 left-0 w-0 h-0.5 transition-all duration-300;
        background: linear-gradient(90deg, #002f6c, #0a58ca);
        border-radius: 2px;
      }
      .nav-link:hover::after,
      .nav-link.active::after {
        @apply w-full;
      }
      .mobile-nav-link {
        @apply block text-white hover:text-blue-400 hover:bg-blue-900/20 px-4 py-2 rounded-lg transition-all duration-300;
      }
      .mobile-nav-link.active {
        @apply text-blue-400 bg-blue-900/20;
      }

      #navbar.scrolled {
        @apply bg-black/85 backdrop-blur-md;
      }
    </style>

    <script>
      // Mobile menu toggle
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const mobileMenu = document.getElementById("mobile-menu");

      mobileMenuBtn?.addEventListener("click", () => {
        mobileMenu?.classList.toggle("hidden");
      });

      // Navbar scroll effect
      const navbar = document.getElementById("navbar");
      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          navbar?.classList.add("scrolled");
        } else {
          navbar?.classList.remove("scrolled");
        }
      });

      // Botón volver arriba
      const btnVolverArriba = document.getElementById("btnVolverArriba");
      window.addEventListener("scroll", () => {
        if (window.scrollY > 200) {
          btnVolverArriba?.classList.remove("hidden");
        } else {
          btnVolverArriba?.classList.add("hidden");
        }
      });

      btnVolverArriba?.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });

      // Typed effect
      const typedElement = document.getElementById("typed");
      if (typedElement) {
        const strings = [
          "Estudiante de Ingeniería de Sistemas",
          "Desarrolladora Web en formación",
          "Apasionada por la tecnología",
        ];

        let stringIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        const typeSpeed = 60;
        const backSpeed = 40;
        const delayBetweenStrings = 2000;

        function type() {
          const currentString = strings[stringIndex];

          if (isDeleting) {
            typedElement.textContent = currentString.substring(
              0,
              charIndex - 1
            );
            charIndex--;
          } else {
            typedElement.textContent = currentString.substring(
              0,
              charIndex + 1
            );
            charIndex++;
          }

          let speed = isDeleting ? backSpeed : typeSpeed;

          if (!isDeleting && charIndex === currentString.length) {
            speed = delayBetweenStrings;
            isDeleting = true;
          } else if (isDeleting && charIndex === 0) {
            isDeleting = false;
            stringIndex = (stringIndex + 1) % strings.length;
          }

          setTimeout(type, speed);
        }

        type();
      }
    </script>
  </body>
</html>
